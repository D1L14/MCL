<!DOCTYPE html>
<html lang="it">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Cookie MCL</title>
        <link rel="stylesheet" href="style.css"/>
        <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
    </head>
    <body>

    <header id="main-header">
        <div class="container">
            <h1><a href="index.html" style="color: var(--secondary-color); text-decoration: none;">MCL GENOVA</a></h1>
            <nav id="main-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="chisiamo.html">Chi siamo</a></li>
                    <li class="dropdown">
                        <a href="servizi.html">Servizi</a>
                        <ul class="dropdown-menu">
                            <li><a href="servizi.html#servizi-caf">CAF</a></li>
                            <li><a href="servizi.html#servizi-patronato">Patronato</a></li>
                            <li><a href="servizi.html#assistenzacolf-badanti">Assistenza colf/badanti</a></li>
                            <li><a href="servizi.html#assistenzalegale">Assistenza legale</a></li>
                        </ul>
                    </li>
                    <li><a href="#sedi-contatti">Sedi e Contatti</a></li>
                </ul>
            </nav>
            <div class="mobile-menu-toggle">☰</div>
        </div>
    </header>
    
    <main>
        
        <section id="cookie-privacy">
            <div class="container">
                <h2>Cookie Policy</h2>
                <p>Questo sito utilizza i cookie per garantire il corretto funzionamento delle pagine e migliorare l’esperienza di navigazione. I cookie sono piccoli file di testo che possono essere utilizzati dai siti web per rendere più efficiente l'esperienza per l'utente.</p>
                <p>La legge afferma che possiamo memorizzare i cookie sul tuo dispositivo se sono strettamente necessari per il funzionamento di questo sito. Per tutti gli altri tipi di cookie abbiamo bisogno del tuo permesso.</p>
                <p>Questo sito utilizza diversi tipi di cookie. Alcuni cookie sono collocati da servizi di terze parti che compaiono sulle nostre pagine.</p>
                <p>Puoi in qualsiasi momento modificare o revocare il tuo consenso dalla Dichiarazione dei cookie sul nostro sito web.</p>
                <p>
                    <em>Scopri di più su chi siamo, come puoi contattarci e come trattiamo i dati personali nella nostra
                        <a href="privacy.html">Privacy Policy</a>.
                    </em>
                </p>
            </div>
        </section>

        <div class="custom-carousel">
            <div class="carousel-track">
            <img src="fotostock/firsthero.jpg" alt="Slide 1" class="carousel-slide">
            <img src="fotostock/secondhero.png" alt="Slide 2" class="carousel-slide">
            <img src="fotostock/thirdhero.png" alt="Slide 3" class="carousel-slide">
            <img src="fotostock/fourthyhero.png" alt="Slide 4" class="carousel-slide">
        </div>
            <button class="carousel-btn prev">&#10094;</button>
            <button class="carousel-btn next">&#10095;</button>
        </div>

    </main>

    <button id="scrollToTopBtn" aria-label="Torna su">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up">
            <line x1="12" y1="19" x2="12" y2="5"></line>
            <polyline points="5 12 12 5 19 12"></polyline>
        </svg>
    </button>
            
    <footer>
        <p>© 2025 Movimento Cristiano Lavoratori Genova</p>
        <nav aria-label="Footer Navigation">
            <ul>
                <li><a href="privacy.html">Privacy</a></li>
                <li><a href="cookie.html">Cookie</a></li>
            </ul>
        </nav>
    </footer>
        
    <script>
    const track = document.querySelector('.carousel-track');
    const carouselContainer = document.querySelector('.custom-carousel');
    let slides = Array.from(track.children);

    const firstClone = slides[0].cloneNode(true);
    const lastClone = slides[slides.length - 1].cloneNode(true);

    // Aggiungi i cloni
    track.appendChild(firstClone);
    track.insertBefore(lastClone, slides[0]);

    slides = Array.from(track.children);

    let currentIndex = 1;
    let slideWidth = 0;

    function updateSlideWidth() {
        slideWidth = slides[0].getBoundingClientRect().width;
    }

    function updateSlidePosition(animated = true) {
        updateSlideWidth();

        if (!animated) {
            track.classList.add('no-transition');
        } else {
            track.classList.remove('no-transition');
        }

        track.style.transform = `translateX(-${slideWidth * currentIndex}px)`;
    }

    function goToNextSlide() {
        if (currentIndex >= slides.length - 1) return;

        currentIndex++;
        updateSlidePosition();

        if (currentIndex === slides.length - 1) {
            // Dopo la transizione, salta istantaneamente al primo vero slide
            setTimeout(() => {
                track.classList.add('no-transition');
                currentIndex = 1;
                updateSlidePosition(false);

                // Forzare reflow per rendere fluido il cambio
                void track.offsetWidth;
                track.classList.remove('no-transition');
            }, 500);
        }
    }

    function goToPrevSlide() {
        if (currentIndex <= 0) return;

        currentIndex--;
        updateSlidePosition();

        if (currentIndex === 0) {
            setTimeout(() => {
                track.classList.add('no-transition');
                currentIndex = slides.length - 2;
                updateSlidePosition(false);

                void track.offsetWidth;
                track.classList.remove('no-transition');
            }, 500);
        }
    }

    // Navigazione manuale
    document.querySelector('.next').addEventListener('click', () => {
        goToNextSlide();
        resetAutoplay();
    });

    document.querySelector('.prev').addEventListener('click', () => {
        goToPrevSlide();
        resetAutoplay();
    });

    window.addEventListener('resize', () => {
        updateSlideWidth();
        updateSlidePosition(false);
    });

    window.addEventListener('load', () => {
        updateSlideWidth();
        updateSlidePosition(false);
    });

    // Autoplay
    let autoplayInterval = setInterval(goToNextSlide, 6000);

    function resetAutoplay() {
        clearInterval(autoplayInterval);
        autoplayInterval = setInterval(goToNextSlide, 6000);
    }

    carouselContainer.addEventListener('mouseenter', () => {
        clearInterval(autoplayInterval);
    });

    carouselContainer.addEventListener('mouseleave', () => {
        autoplayInterval = setInterval(goToNextSlide, 6000);
    });
    </script>

    

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.querySelector('.mobile-menu-toggle');
            const nav = document.querySelector('#main-nav');
            
            menuToggle.addEventListener('click', function() {
                nav.classList.toggle('active');
            });
        });
    </script>

    <script>
        const scrollToTopBtn = document.getElementById('scrollToTopBtn');
        const secondSection = document.querySelectorAll('section')[1];
        
        window.addEventListener('scroll', () => {
            if (window.scrollY > secondSection.offsetTop) {
            scrollToTopBtn.classList.add('show');
            } else {
            scrollToTopBtn.classList.remove('show');
            }
        });
        
        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({
            top: 0,
            behavior: 'smooth'
            });
        });
    </script> 
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</body>
</html>
